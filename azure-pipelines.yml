trigger:
  branches:
    include:
      - main # Runs pipeline when code is pushed to 'main' branch

pool:
  vmImage: "ubuntu-latest"

resources:
  repositories:
    - repository: Playwright_Tests_Repo
      type: git
      name: Playwright_Tests_Repo
      ref: main

steps:
  - checkout: self

  - task: UseNode@1
    inputs:
      version: "20"
    displayName: "Set Node.js to v20"

  # 🔍 Debugging Step 1: List files in the current directory
  - script: |
      ls -la
    displayName: "Check Files in Current Directory"

  # 🔍 Debugging Step 2: Locate package.json recursively
  - script: |
      find . -name "package.json"
    displayName: "Locate package.json"

  - script: |
      npm install
    displayName: "Install Dependencies"
